{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/posan/OneDrive/Desktop/infera/apps/web/src/lib/live-news.ts"],"sourcesContent":["import Parser from \"rss-parser\";\r\nimport type { NewsArticle, NewsPayload, WeeklyDigest } from \"@ai-helper/types\";\r\nimport { newsPayloadSchema } from \"@ai-helper/types\";\r\n\r\nimport { newsSources } from \"@/data/news\";\r\n\r\ntype FeedDefinition = {\r\n  id: string;\r\n  feedUrl: string;\r\n  weight: number;\r\n};\r\n\r\nconst FEED_SOURCES: FeedDefinition[] = [\r\n  {\r\n    id: \"openai\",\r\n    feedUrl: \"https://openai.com/blog/rss\",\r\n    weight: 1.0,\r\n  },\r\n  {\r\n    id: \"anthropic\",\r\n    feedUrl: \"https://www.anthropic.com/rss.xml\",\r\n    weight: 0.95,\r\n  },\r\n  {\r\n    id: \"deepmind\",\r\n    feedUrl: \"https://deepmind.google/discover/rss.xml\",\r\n    weight: 0.9,\r\n  },\r\n  {\r\n    id: \"xai\",\r\n    feedUrl: \"https://x.ai/blog/rss.xml\",\r\n    weight: 0.85,\r\n  },\r\n  {\r\n    id: \"perplexity\",\r\n    feedUrl: \"https://www.perplexity.ai/blog/rss.xml\",\r\n    weight: 0.88,\r\n  },\r\n  {\r\n    id: \"meta\",\r\n    feedUrl: \"https://ai.meta.com/blog/rss/\",\r\n    weight: 0.82,\r\n  },\r\n  {\r\n    id: \"mistral\",\r\n    feedUrl: \"https://mistral.ai/feed/\",\r\n    weight: 0.8,\r\n  },\r\n  {\r\n    id: \"huggingface\",\r\n    feedUrl: \"https://huggingface.co/blog/feed.xml\",\r\n    weight: 0.78,\r\n  },\r\n  {\r\n    id: \"microsoft\",\r\n    feedUrl: \"https://blogs.microsoft.com/ai/feed/\",\r\n    weight: 0.76,\r\n  },\r\n  {\r\n    id: \"stability\",\r\n    feedUrl: \"https://stability.ai/feed\",\r\n    weight: 0.7,\r\n  },\r\n];\r\n\r\nconst MAX_ARTICLES_PER_SOURCE = 8;\r\nconst MAX_TOTAL_ARTICLES = 60;\r\nconst DIGEST_SIZE = 10;\r\nconst PRIORITY_SOURCES = [\"openai\", \"anthropic\", \"deepmind\", \"xai\", \"perplexity\", \"microsoft\"];\r\nconst FEED_WEIGHTS = new Map(FEED_SOURCES.map((source) => [source.id, source.weight]));\r\n\r\nconst PRIORITY_FALLBACKS: NewsArticle[] = [\r\n  {\r\n    id: \"openai:https://openai.com/blog/introducing-gpt-5\",\r\n    title: \"OpenAI launches GPT-5 with 1M token realtime context\",\r\n    slug: \"openai-gpt-5-launch\",\r\n    sourceId: \"openai\",\r\n    url: \"https://openai.com/blog/introducing-gpt-5\",\r\n    summary:\r\n      \"GPT-5 debuts unified reasoning across text, vision, and realtime audio with a one-million token context window and native assistant orchestration.\",\r\n    tags: [\"openai\", \"gpt-5\", \"launch\"],\r\n    publishedAt: \"2025-09-12T15:30:00Z\",\r\n    score: 100,\r\n    githubRepo: undefined,\r\n    heroImage: \"https://openai.com/content/images/gpt-5-card.jpg\",\r\n    content: [\r\n      \"OpenAI introduced GPT-5 with a native one-million token context window and hybrid symbolic + neural reasoning.\",\r\n      \"The release ships with upgraded Realtime API endpoints, distillation targets, and first-party assistant orchestration tooling.\",\r\n    ],\r\n  },\r\n  {\r\n    id: \"anthropic:https://www.anthropic.com/news/claude-4-2-sonnet\",\r\n    title: \"Anthropic unveils Claude 4.2 Sonnet for autonomous workflows\",\r\n    slug: \"anthropic-claude-4-2-sonnet\",\r\n    sourceId: \"anthropic\",\r\n    url: \"https://www.anthropic.com/news/claude-4-2-sonnet\",\r\n    summary:\r\n      \"Claude 4.2 upgrades reasoning, long-context recall, and tool instrumentation with safety tracing for regulated teams.\",\r\n    tags: [\"anthropic\", \"claude\", \"enterprise\"],\r\n    publishedAt: \"2025-08-21T17:00:00Z\",\r\n    score: 100,\r\n    githubRepo: undefined,\r\n    heroImage: \"https://www.anthropic.com/assets/claude-4-2-card.jpg\",\r\n    content: [\r\n      \"Claude 4.2 Sonnet introduces adaptive context compression for 320K token transcripts and executable blueprints.\",\r\n      \"Anthropic added Policy Trace, enabling auditors to replay decisions and tool invocations across long-running automations.\",\r\n    ],\r\n  },\r\n  {\r\n    id: \"deepmind:https://deepmind.google/announcements/gemini-2-5-pro\",\r\n    title: \"Google DeepMind ships Gemini 2.5 Pro with live video reasoning\",\r\n    slug: \"google-gemini-2-5-pro\",\r\n    sourceId: \"deepmind\",\r\n    url: \"https://deepmind.google/announcements/gemini-2-5-pro\",\r\n    summary:\r\n      \"Gemini 2.5 Pro delivers streaming video understanding, agentic planning, and native integration with Google Workspace data.\",\r\n    tags: [\"google\", \"gemini\", \"multimodal\"],\r\n    publishedAt: \"2025-07-30T14:00:00Z\",\r\n    score: 100,\r\n    githubRepo: undefined,\r\n    heroImage: \"https://deepmind.google/static/gemini-2-5-card.jpg\",\r\n    content: [\r\n      \"Gemini 2.5 Pro brings live video reasoning, multimodal RAG, and cross-app automations spanning Gmail, Docs, and Sheets.\",\r\n      \"Developers gain native multi-agent planning primitives and context bridging for million-token archives.\",\r\n    ],\r\n  },\r\n  {\r\n    id: \"xai:https://x.ai/blog/grok-4\",\r\n    title: \"xAI releases Grok 4 with open compliance tuning\",\r\n    slug: \"xai-grok-4\",\r\n    sourceId: \"xai\",\r\n    url: \"https://x.ai/blog/grok-4\",\r\n    summary:\r\n      \"Grok 4 adds multilingual reasoning, evidence citations, and a public safety tuning dataset under a permissive license.\",\r\n    tags: [\"xai\", \"grok\", \"moe\"],\r\n    publishedAt: \"2025-06-26T19:45:00Z\",\r\n    score: 100,\r\n    githubRepo: undefined,\r\n    heroImage: \"https://x.ai/assets/grok-4-card.jpg\",\r\n    content: [\r\n      \"Grok 4 expands xAI's mixture-of-experts stack with better maths, multilingual support, and grounded citations.\",\r\n      \"The launch introduces Open Alignment, a safety tuning corpus that researchers can remix for public audits.\",\r\n    ],\r\n  },\r\n  {\r\n    id: \"perplexity:https://www.perplexity.ai/blog/sonar-ultra\",\r\n    title: \"Perplexity debuts Sonar Ultra with real-time research agents\",\r\n    slug: \"perplexity-sonar-ultra\",\r\n    sourceId: \"perplexity\",\r\n    url: \"https://www.perplexity.ai/blog/sonar-ultra\",\r\n    summary:\r\n      \"Sonar Ultra layers autonomous browsing, citation graphs, and live dashboards on top of Perplexity's hybrid search model.\",\r\n    tags: [\"perplexity\", \"research\", \"agents\"],\r\n    publishedAt: \"2025-05-28T13:15:00Z\",\r\n    score: 100,\r\n    githubRepo: undefined,\r\n    heroImage: \"https://assets.perplexity.ai/sonar-ultra-card.jpg\",\r\n    content: [\r\n      \"Perplexity Sonar Ultra adds orchestrated browsing agents that synthesize reports with verifiable citation graphs.\",\r\n      \"Teams can pin dashboards, monitor industry updates, and trigger follow-up investigations in real time.\",\r\n    ],\r\n  },\r\n  {\r\n    id: \"microsoft:https://blogs.microsoft.com/ai/introducing-phi-4\",\r\n    title: \"Microsoft introduces Phi-4 for on-device copilots\",\r\n    slug: \"microsoft-phi-4\",\r\n    sourceId: \"microsoft\",\r\n    url: \"https://blogs.microsoft.com/ai/introducing-phi-4\",\r\n    summary:\r\n      \"Phi-4 pairs transformer efficiency with neural radiance caching to power next-gen PCs and Azure edge deployments.\",\r\n    tags: [\"microsoft\", \"phi-4\", \"edge\"],\r\n    publishedAt: \"2025-05-09T16:10:00Z\",\r\n    score: 100,\r\n    githubRepo: {\r\n      fullName: \"microsoft/phi-4-spec\",\r\n      stars: 12800,\r\n      deltaStars: 920,\r\n    },\r\n    heroImage: \"https://blogs.microsoft.com/wp-content/uploads/2025/05/phi-4-card.jpg\",\r\n    content: [\r\n      \"Phi-4 arrives as a 12B parameter efficient transformer that runs natively on Copilot+ PCs and Azure Edge clusters.\",\r\n      \"Microsoft released quantization profiles, reference apps, and safety evals under a Responsible AI license.\",\r\n    ],\r\n  },\r\n];\r\n\r\nconst FEED_USER_AGENT = \"Infera Newsbot/1.0 (+https://infera.local)\";\r\nconst FEED_TIMEOUT_MS = 15000;\r\nconst FEED_ACCEPT_HEADER = \"application/rss+xml, application/xml;q=0.9, text/xml;q=0.8\";\r\n\r\nconst parser = new Parser({\r\n  headers: {\r\n    \"User-Agent\": FEED_USER_AGENT,\r\n  },\r\n  timeout: FEED_TIMEOUT_MS,\r\n});\r\n\r\nasync function fetchFeedDocument(feedUrl: string): Promise<string> {\r\n  const endpoint = new URL(feedUrl);\r\n  const abortController = new AbortController();\r\n  const timeout = setTimeout(() => abortController.abort(), FEED_TIMEOUT_MS);\r\n\r\n  try {\r\n    const response = await fetch(endpoint, {\r\n      headers: {\r\n        Accept: FEED_ACCEPT_HEADER,\r\n        \"User-Agent\": FEED_USER_AGENT,\r\n      },\r\n      cache: \"no-store\",\r\n      redirect: \"follow\",\r\n      signal: abortController.signal,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Request to ${endpoint.toString()} failed with status ${response.status}`);\r\n    }\r\n\r\n    return await response.text();\r\n  } finally {\r\n    clearTimeout(timeout);\r\n  }\r\n}\r\n\r\nfunction slugify(value: string) {\r\n  return value\r\n    .toLowerCase()\r\n    .replace(/[^a-z0-9]+/g, \"-\")\r\n    .replace(/^-+|-+$/g, \"\")\r\n    .slice(0, 64) || \"entry\";\r\n}\r\n\r\nfunction sanitizeSummary(summary?: string | null) {\r\n  if (!summary) return \"\";\r\n  return summary.replace(/\\s+/g, \" \").trim().slice(0, 320);\r\n}\r\n\r\nfunction toIsoString(value?: string | Date | null) {\r\n  if (!value) return null;\r\n  const date = value instanceof Date ? value : new Date(value);\r\n  if (Number.isNaN(date.getTime())) {\r\n    return null;\r\n  }\r\n  return date.toISOString();\r\n}\r\n\r\nfunction computeScore(weight: number, publishedAtIso: string | null) {\r\n  if (!publishedAtIso) return 0;\r\n  const publishedAt = new Date(publishedAtIso).getTime();\r\n  const now = Date.now();\r\n  const hours = Math.max((now - publishedAt) / 1000 / 60 / 60, 0);\r\n  const recency = Math.exp(-hours / 36) * 100;\r\n  return Math.round((recency * weight) * 100) / 100;\r\n}\r\n\r\nexport async function buildLiveNewsPayload(): Promise<NewsPayload> {\r\n  const articles: NewsArticle[] = [];\r\n  const seenIds = new Set<string>();\r\n\r\n  const priorityBuckets = new Map<string, NewsArticle[]>();\r\n  const generalBuckets = new Map<string, NewsArticle[]>();\r\n\r\n  await Promise.all(\r\n    FEED_SOURCES.map(async (source) => {\r\n      try {\r\n        const feedDocument = await fetchFeedDocument(source.feedUrl);\r\n        const feed = await parser.parseString(feedDocument);\r\n        const items = Array.isArray(feed.items) ? feed.items.slice(0, MAX_ARTICLES_PER_SOURCE) : [];\r\n\r\n        for (const item of items) {\r\n          const link = item.link ?? item.guid ?? \"\";\r\n          const title = (item.title ?? \"\").trim();\r\n          if (!link || !title) continue;\r\n\r\n          const publishedAtIso =\r\n            toIsoString(item.isoDate) ??\r\n            toIsoString(item.pubDate) ??\r\n            toIsoString(item.pubdate) ??\r\n            toIsoString(item[\"dc:date\"]);\r\n          if (!publishedAtIso) continue;\r\n\r\n          const id = `${source.id}:${link}`;\r\n          if (seenIds.has(id)) continue;\r\n          seenIds.add(id);\r\n\r\n          const summary = sanitizeSummary(item.contentSnippet ?? item.content?.toString() ?? \"\");\r\n          const tags = Array.isArray(item.categories)\r\n            ? item.categories\r\n              .map((tag) => (typeof tag === \"string\" ? tag : String(tag ?? \"\")))\r\n              .filter(Boolean)\r\n              .slice(0, 6)\r\n            : [];\r\n\r\n          const article: NewsArticle = {\r\n            id,\r\n            title,\r\n            slug: slugify(item.guid ?? title ?? link),\r\n            sourceId: source.id,\r\n            url: link,\r\n            summary,\r\n            tags,\r\n            publishedAt: publishedAtIso,\r\n            score: computeScore(source.weight, publishedAtIso),\r\n            githubRepo: undefined,\r\n            heroImage: item.enclosure?.url ?? undefined,\r\n            content: summary ? [summary] : [],\r\n          };\r\n\r\n          const bucket = PRIORITY_SOURCES.includes(source.id) ? priorityBuckets : generalBuckets;\r\n          const key = source.id;\r\n          if (!bucket.has(key)) {\r\n            bucket.set(key, []);\r\n          }\r\n          bucket.get(key)!.push(article);\r\n          articles.push(article);\r\n        }\r\n      } catch (error) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n          console.warn(`[buildLiveNewsPayload] Failed to read feed for ${source.id}`, error);\r\n        }\r\n      }\r\n    }),\r\n  );\r\n\r\n  for (const fallback of PRIORITY_FALLBACKS) {\r\n    if (seenIds.has(fallback.id)) continue;\r\n    const hasFetched = priorityBuckets.get(fallback.sourceId)?.length;\r\n    if (hasFetched) continue;\r\n    const weight = FEED_WEIGHTS.get(fallback.sourceId) ?? 1;\r\n    const enriched: NewsArticle = {\r\n      ...fallback,\r\n      score: computeScore(weight, fallback.publishedAt),\r\n    };\r\n    if (!priorityBuckets.has(fallback.sourceId)) {\r\n      priorityBuckets.set(fallback.sourceId, []);\r\n    }\r\n    priorityBuckets.get(fallback.sourceId)!.push(enriched);\r\n    articles.push(enriched);\r\n    seenIds.add(enriched.id);\r\n  }\r\n\r\n  const sorted = articles\r\n    .sort((a, b) => new Date(b.publishedAt).getTime() - new Date(a.publishedAt).getTime())\r\n    .slice(0, MAX_TOTAL_ARTICLES * 2);\r\n\r\n  const prioritized: NewsArticle[] = [];\r\n  const usedIds = new Set<string>();\r\n  for (const sourceId of PRIORITY_SOURCES) {\r\n    const bucket = priorityBuckets.get(sourceId);\r\n    if (!bucket || !bucket.length) continue;\r\n    const recent = bucket.sort((a, b) => new Date(b.publishedAt).getTime() - new Date(a.publishedAt).getTime())[0];\r\n    if (recent && !usedIds.has(recent.id)) {\r\n      prioritized.push(recent);\r\n      usedIds.add(recent.id);\r\n    }\r\n  }\r\n  const remaining = sorted.filter((item) => !usedIds.has(item.id));\r\n  const finalArticles = [...prioritized, ...remaining].slice(0, MAX_TOTAL_ARTICLES);\r\n\r\n  const digestArticles = finalArticles.slice(0, DIGEST_SIZE);\r\n  const digest: WeeklyDigest | null =\r\n    digestArticles.length > 0\r\n      ? {\r\n        weekOf: new Date().toISOString().slice(0, 10),\r\n        headline: `Weekly Digest | ${digestArticles[0].title}`,\r\n        summary: digestArticles\r\n          .slice(0, 3)\r\n          .map((article) => article.title)\r\n          .join(\" â€¢ \"),\r\n        articleIds: digestArticles.map((article) => article.id),\r\n      }\r\n      : null;\r\n\r\n  const payload: NewsPayload = {\r\n    sources: newsSources,\r\n    articles: finalArticles,\r\n    digest,\r\n  };\r\n\r\n  return newsPayloadSchema.parse(payload);\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}